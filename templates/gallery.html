{% extends "base.html" %}

{% block title %}Gallery - YUKTI 2025{% endblock %}

{% block content %}
<div class="h-0.5 bg-[#CD7F32] "></div>
<div class="min-h-screen pt-20 bg-gradient-to-r from-dark via-darker to-dark animate-gradient-flow">
    <div class="container mx-auto px-4">
        <!-- Image Popup -->
        <div id="imagePopup" class="fixed inset-0 bg-black bg-opacity-90 hidden z-50 justify-center items-center">
            <div class="relative max-w-4xl mx-auto p-4">
                <button onclick="closePopup()" class="absolute -top-12 right-0 w-10 h-10 bg-primary text-black rounded-full flex items-center justify-center hover:bg-white transition-all transform hover:scale-110">
                    âœ•
                </button>
                <img id="popupImage" src="" alt="" class="max-w-full max-h-[90vh] object-contain border-2 border-primary rounded">
            </div>
        </div>

        <!-- Gallery Content -->
        <section class="bg-[rgba(30,30,30,0.8)] backdrop-blur-lg rounded-2xl p-8 shadow-2xl">
            <h1 class="text-4xl text-primary text-center uppercase mb-4 font-bold font-[Orbitron] tracking-wider">
                <span class="inline-block transform hover:scale-105 transition-transform duration-300">Gallery</span>
            </h1>
            <p class="text-gray-300 text-center text-xl mb-8 font-[Rajdhani]">Snapshots of Unforgettable Memories from Yukti Fest 2024!</p>

            <!-- Flash Mob Section -->
            <div class="mb-12 bg-black bg-opacity-30 rounded-xl p-6 border border-primary/10">
                <h2 class="text-3xl text-primary text-center mb-6 font-[Audiowide] tracking-wide transform hover:scale-105 transition-transform duration-300">
                    Flash Mob
                </h2>
                <div class="mb-8 text-gray-300">
                    <p class="text-lg leading-relaxed mb-4">
                        A high-energy, surprise dance performance where a group of students suddenly gathered and performed in a public space, engaging the audience and setting the festive mood for the tech fest.
                    </p>
                    <p class="text-lg leading-relaxed mb-4">
                        The flash mob served as an electrifying opening act, bringing together performers from various departments who had practiced in secret for weeks. The unexpected nature of the performance created a buzz of excitement throughout the campus.
                    </p>
                </div>
                <div class="grid grid-cols-2 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-3 sm:gap-4">
                    <!-- Gallery Items -->
                    {% for i in range(6) %}
                    <div class="gallery-item group relative overflow-hidden rounded-xl cursor-pointer
                                transform transition-all duration-300 hover:-translate-y-2 
                                hover:shadow-[0_15px_30px_rgba(0,255,255,0.4)]
                                border-2 border-[#00FFFF] hover:border-[#FF00FF]">
                        <img src="{{ url_for('static', filename='gallery/fl' ~ loop.index ~ '.jpg') }}"
                             alt="Flash Mob Performance {{ loop.index }}"
                             class="w-full h-32 sm:h-48 md:h-64 object-cover transition-transform duration-300 
                                    group-hover:scale-110"
                             loading="lazy"
                             onerror="this.src='{{ url_for('static', filename='gallery/place.jpg') }}'; console.error('Failed to load:', this.src);">
                        <div class="absolute inset-0 bg-gradient-to-t from-black/70 to-transparent opacity-0 
                                    group-hover:opacity-100 transition-opacity duration-300
                                    flex items-end justify-center pb-4">
                            <button class="view-image-btn bg-gradient-to-r from-[#00FFFF] to-[#FF00FF] text-white 
                                         px-4 py-2 rounded-lg transform -translate-y-4 opacity-0 
                                         group-hover:translate-y-0 group-hover:opacity-100 transition-all duration-300
                                         hover:from-[#FF00FF] hover:to-[#00FFFF]">
                                View
                            </button>
                        </div>
                    </div>
                    {% endfor %}
                </div>
            </div>

            <!-- Welcome Ceremony Section -->
            <div class="mb-12 bg-black bg-opacity-30 rounded-xl p-6 border border-primary/10">
                <h2 class="text-3xl text-primary text-center mb-6 font-[Syncopate] tracking-wide transform hover:scale-105 transition-transform duration-300">
                    Welcome Ceremony
                </h2>
                <div class="mb-8 text-gray-300">
                    <p class="text-lg leading-relaxed mb-4">
                        The grand opening of the tech fest, featuring speeches from dignitaries, a ceremonial lamp lighting, and an introduction to the exciting events lined up for the festival.
                    </p>
                    <p class="text-lg leading-relaxed mb-4">
                        Distinguished guests and university officials came together to mark the beginning of this grand celebration, setting the tone for the upcoming days of innovation, creativity, and excellence.
                    </p>
                </div>
                <div class="grid grid-cols-2 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-3 sm:gap-4">
                    <!-- Gallery Items -->
                    {% for i in range(4) %}
                    <div class="gallery-item group relative overflow-hidden rounded-xl cursor-pointer
                                transform transition-all duration-300 hover:-translate-y-2 
                                hover:shadow-[0_15px_30px_rgba(0,255,255,0.4)]
                                border-2 border-[#00FFFF] hover:border-[#FF00FF]">
                        <img src="{{ url_for('static', filename='gallery/wl' ~ loop.index ~ '.jpg') }}"
                             alt="Welcome Ceremony Image {{ loop.index }}"
                             class="w-full h-32 sm:h-48 md:h-64 object-cover transition-transform duration-300 
                                    group-hover:scale-110"
                             loading="lazy"
                             onerror="this.src='{{ url_for('static', filename='gallery/place.jpg') }}'; console.error('Failed to load:', this.src);">
                        <div class="absolute inset-0 bg-gradient-to-t from-black/70 to-transparent opacity-0 
                                    group-hover:opacity-100 transition-opacity duration-300
                                    flex items-end justify-center pb-4">
                            <button class="view-image-btn bg-gradient-to-r from-[#00FFFF] to-[#FF00FF] text-white 
                                         px-4 py-2 rounded-lg transform -translate-y-4 opacity-0 
                                         group-hover:translate-y-0 group-hover:opacity-100 transition-all duration-300
                                         hover:from-[#FF00FF] hover:to-[#00FFFF]">
                                View
                            </button>
                        </div>
                    </div>
                    {% endfor %}
                </div>
            </div>

            <!-- Combined Events Section -->
            <div class="mb-12 bg-black bg-opacity-30 rounded-xl p-6 border border-primary/10">
                <h2 class="text-3xl text-primary text-center mb-6 font-[Audiowide] tracking-wide transform hover:scale-105 transition-transform duration-300">
                    Festival Events Showcase
                </h2>
                
                <!-- Events Description -->
                <div class="mb-8 text-gray-300">
                    <p class="text-lg leading-relaxed mb-4">
                        A spectacular fusion of technical brilliance, cultural excellence, and management acumen came together in our grand festival. From coding competitions to dance performances, and from robotics to business challenges, the events showcased diverse talents across multiple domains.
                    </p>
                </div>

                <!-- Technical Events Subsection -->
                <div class="mb-8">
                    <h3 class="text-2xl text-primary mb-4 font-[Rajdhani] pl-4 border-l-4 border-secondary">Technical Events</h3>
                    <p class="text-gray-300 mb-4 text-lg leading-relaxed">
                        Showcasing innovation through hackathons, coding competitions, robotics challenges, and technical workshops that pushed the boundaries of technological creativity.
                    </p>
                    <div class="grid grid-cols-2 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-3 sm:gap-4 mb-8">
                        {% for i in range(3) %}
                        <div class="gallery-item group relative overflow-hidden rounded-xl cursor-pointer
                                    transform transition-all duration-300 hover:-translate-y-2 
                                    hover:shadow-[0_15px_30px_rgba(0,255,255,0.4)]
                                    border-2 border-[#00FFFF] hover:border-[#FF00FF]">
                            <img src="{{ url_for('static', filename='gallery/tc' ~ loop.index ~ '.jpg') }}"
                                 alt="Technical Event {{ loop.index }}"
                                 class="w-full h-32 sm:h-48 md:h-64 object-cover transition-transform duration-300 
                                        group-hover:scale-110"
                                 loading="lazy"
                                 onerror="this.src='{{ url_for('static', filename='gallery/place.jpg') }}'; console.error('Failed to load:', this.src);">
                            <div class="absolute inset-0 bg-gradient-to-t from-black/70 to-transparent opacity-0 
                                        group-hover:opacity-100 transition-opacity duration-300
                                        flex items-end justify-center pb-4">
                                <button class="view-image-btn bg-gradient-to-r from-[#00FFFF] to-[#FF00FF] text-white 
                                             px-4 py-2 rounded-lg transform -translate-y-4 opacity-0 
                                             group-hover:translate-y-0 group-hover:opacity-100 transition-all duration-300
                                             hover:from-[#FF00FF] hover:to-[#00FFFF]">
                                    View
                                </button>
                            </div>
                        </div>
                        {% endfor %}
                    </div>
                </div>

                <!-- Cultural Events Subsection -->
                <div class="mb-8">
                    <h3 class="text-2xl text-primary mb-4 font-[Rajdhani] pl-4 border-l-4 border-secondary">Cultural Events</h3>
                    <p class="text-gray-300 mb-4 text-lg leading-relaxed">
                        Celebrating artistic expression through dance, music, drama, and fashion shows that brought color and creativity to the festival atmosphere.
                    </p>
                    <div class="grid grid-cols-2 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-3 sm:gap-4 mb-8">
                        {% for i in range(6) %}
                        <div class="gallery-item group relative overflow-hidden rounded-xl cursor-pointer
                                    transform transition-all duration-300 hover:-translate-y-2 
                                    hover:shadow-[0_15px_30px_rgba(0,255,255,0.4)]
                                    border-2 border-[#00FFFF] hover:border-[#FF00FF]">
                            <img src="{{ url_for('static', filename='gallery/cl' ~ loop.index ~ '.jpg') }}"
                                 alt="Cultural Event {{ loop.index }}"
                                 class="w-full h-32 sm:h-48 md:h-64 object-cover transition-transform duration-300 
                                        group-hover:scale-110"
                                 loading="lazy"
                                 onerror="this.src='{{ url_for('static', filename='gallery/place.jpg') }}'; console.error('Failed to load:', this.src);">
                            <div class="absolute inset-0 bg-gradient-to-t from-black/70 to-transparent opacity-0 
                                        group-hover:opacity-100 transition-opacity duration-300
                                        flex items-end justify-center pb-4">
                                <button class="view-image-btn bg-gradient-to-r from-[#00FFFF] to-[#FF00FF] text-white 
                                             px-4 py-2 rounded-lg transform -translate-y-4 opacity-0 
                                             group-hover:translate-y-0 group-hover:opacity-100 transition-all duration-300
                                             hover:from-[#FF00FF] hover:to-[#00FFFF]">
                                    View
                                </button>
                            </div>
                        </div>
                        {% endfor %}
                    </div>
                </div>

                <!-- Management Events Subsection -->
                <div class="mb-8">
                    <h3 class="text-2xl text-primary mb-4 font-[Rajdhani] pl-4 border-l-4 border-secondary">Management Events</h3>
                    <p class="text-gray-300 mb-4 text-lg leading-relaxed">
                        Testing strategic thinking and leadership through business simulations, case studies, and entrepreneurship competitions.
                    </p>
                    <div class="grid grid-cols-2 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-3 sm:gap-4">
                        {% for i in range(2) %}
                        <div class="gallery-item group relative overflow-hidden rounded-xl cursor-pointer
                                    transform transition-all duration-300 hover:-translate-y-2 
                                    hover:shadow-[0_15px_30px_rgba(0,255,255,0.4)]
                                    border-2 border-[#00FFFF] hover:border-[#FF00FF]">
                            <img src="{{ url_for('static', filename='gallery/mn' ~ loop.index ~ '.jpg') }}"
                                 alt="Management Event {{ loop.index }}"
                                 class="w-full h-32 sm:h-48 md:h-64 object-cover transition-transform duration-300 
                                        group-hover:scale-110"
                                 loading="lazy"
                                 onerror="this.src='{{ url_for('static', filename='gallery/place.jpg') }}'; console.error('Failed to load:', this.src);">
                            <div class="absolute inset-0 bg-gradient-to-t from-black/70 to-transparent opacity-0 
                                        group-hover:opacity-100 transition-opacity duration-300
                                        flex items-end justify-center pb-4">
                                <button class="view-image-btn bg-gradient-to-r from-[#00FFFF] to-[#FF00FF] text-white 
                                             px-4 py-2 rounded-lg transform -translate-y-4 opacity-0 
                                             group-hover:translate-y-0 group-hover:opacity-100 transition-all duration-300
                                             hover:from-[#FF00FF] hover:to-[#00FFFF]">
                                    View
                                </button>
                            </div>
                        </div>
                        {% endfor %}
                    </div>
                </div>
            </div>

            <!-- Celebrity Night - Day 1 Section -->
            <div class="mb-12 bg-black bg-opacity-30 rounded-xl p-6 border border-primary/10">
                <h2 class="text-3xl text-primary text-center mb-6 font-[Syncopate] tracking-wide transform hover:scale-105 transition-transform duration-300">
                    Celebrity Night - Day 1
                </h2>
                <div class="mb-8 text-gray-300">
                    <p class="text-lg leading-relaxed mb-4">
                        A thrilling evening with a popular celebrity guest, featuring live music, dance performances, and entertainment that kept the crowd energized and excited.
                    </p>
                    <p class="text-lg leading-relaxed mb-4">
                        The electric atmosphere filled with pulsating beats, dazzling lights, and enthusiastic cheers created an unforgettable night of celebration and entertainment.
                    </p>
                </div>
                <div class="grid grid-cols-2 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-3 sm:gap-4">
                    <!-- Gallery Items -->
                    {% for i in range(9) %}
                    <div class="gallery-item group relative overflow-hidden rounded-xl cursor-pointer
                                transform transition-all duration-300 hover:-translate-y-2 
                                hover:shadow-[0_15px_30px_rgba(0,255,255,0.4)]
                                border-2 border-[#00FFFF] hover:border-[#FF00FF]">
                        <img src="{{ url_for('static', filename='gallery/nt' ~ loop.index ~ '.jpg') }}"
                             alt="Celebrity Night - Day 1 Image {{ loop.index }}"
                             class="w-full h-32 sm:h-48 md:h-64 object-cover transition-transform duration-300 
                                    group-hover:scale-110"
                             loading="lazy"
                             onerror="this.src='{{ url_for('static', filename='gallery/place.jpg') }}'; console.error('Failed to load:', this.src);">
                        <div class="absolute inset-0 bg-gradient-to-t from-black/70 to-transparent opacity-0 
                                    group-hover:opacity-100 transition-opacity duration-300
                                    flex items-end justify-center pb-4">
                            <button class="view-image-btn bg-gradient-to-r from-[#00FFFF] to-[#FF00FF] text-white 
                                         px-4 py-2 rounded-lg transform -translate-y-4 opacity-0 
                                         group-hover:translate-y-0 group-hover:opacity-100 transition-all duration-300
                                         hover:from-[#FF00FF] hover:to-[#00FFFF]">
                                View
                            </button>
                        </div>
                    </div>
                    {% endfor %}
                </div>
            </div>

            <!-- Awards Ceremony Section -->
            <div class="mb-12 bg-black bg-opacity-30 rounded-xl p-6 border border-primary/10">
                <h2 class="text-3xl text-primary text-center mb-6 font-[Syncopate] tracking-wide transform hover:scale-105 transition-transform duration-300">
                    Awards Ceremony
                </h2>
                <div class="mb-8 text-gray-300">
                    <p class="text-lg leading-relaxed mb-4">
                        A prestigious event honoring the winners of various competitions, recognizing their talent, hard work, and innovation with trophies, certificates, and accolades.
                    </p>
                    <p class="text-lg leading-relaxed mb-4">
                        The ceremony celebrated excellence across technical, cultural, and management domains, inspiring future participants and creating moments of pride for winners and their institutions alike.
                    </p>
                </div>
                <div class="grid grid-cols-2 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-3 sm:gap-4">
                    <!-- Gallery Items -->
                    {% for i in range(6) %}
                    <div class="gallery-item group relative overflow-hidden rounded-xl cursor-pointer
                                transform transition-all duration-300 hover:-translate-y-2 
                                hover:shadow-[0_15px_30px_rgba(0,255,255,0.4)]
                                border-2 border-[#00FFFF] hover:border-[#FF00FF]">
                        <img src="{{ url_for('static', filename='gallery/aw' ~ loop.index ~ '.jpg') }}"
                             alt="Awards Ceremony Image {{ loop.index }}"
                             class="w-full h-32 sm:h-48 md:h-64 object-cover transition-transform duration-300 
                                    group-hover:scale-110"
                             loading="lazy"
                             onerror="this.src='{{ url_for('static', filename='gallery/place.jpg') }}'; console.error('Failed to load:', this.src);">
                        <div class="absolute inset-0 bg-gradient-to-t from-black/70 to-transparent opacity-0 
                                    group-hover:opacity-100 transition-opacity duration-300
                                    flex items-end justify-center pb-4">
                            <button class="view-image-btn bg-gradient-to-r from-[#00FFFF] to-[#FF00FF] text-white 
                                         px-4 py-2 rounded-lg transform -translate-y-4 opacity-0 
                                         group-hover:translate-y-0 group-hover:opacity-100 transition-all duration-300
                                         hover:from-[#FF00FF] hover:to-[#00FFFF]">
                                View
                            </button>
                        </div>
                    </div>
                    {% endfor %}
                </div>
            </div>

            <!-- Celebrity Night - Day 2 Section -->
            <div class="mb-12 bg-black bg-opacity-30 rounded-xl p-6 border border-primary/10">
                <h2 class="text-3xl text-primary text-center mb-6 font-[Syncopate] tracking-wide transform hover:scale-105 transition-transform duration-300">
                    Celebrity Night - Day 2
                </h2>
                <div class="mb-8 text-gray-300">
                    <p class="text-lg leading-relaxed mb-4">
                        Another star-studded night with a different celebrity or artist, bringing an electrifying close to the fest with mesmerizing performances, music, and celebrations.
                    </p>
                    <p class="text-lg leading-relaxed mb-4">
                        The grand finale featured spectacular live performances, creating an atmosphere of pure joy and excitement as the festival drew to a memorable close.
                    </p>
                </div>
                <div class="grid grid-cols-2 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-3 sm:gap-4">
                    <!-- Gallery Items -->
                    {% for i in range(4) %}
                    <div class="gallery-item group relative overflow-hidden rounded-xl cursor-pointer
                                transform transition-all duration-300 hover:-translate-y-2 
                                hover:shadow-[0_15px_30px_rgba(0,255,255,0.4)]
                                border-2 border-[#00FFFF] hover:border-[#FF00FF]">
                        <img src="{{ url_for('static', filename='gallery/n' ~ loop.index ~ '.jpg') }}?v=1"
                             alt="Celebrity Night - Day 2 Image {{ loop.index }}"
                             class="w-full h-32 sm:h-48 md:h-64 object-cover transition-transform duration-300 
                                    group-hover:scale-110"
                             loading="lazy"
                             onerror="this.src='{{ url_for('static', filename='gallery/place.jpg') }}'; console.error('Failed to load:', this.src);">
                        <div class="absolute inset-0 bg-gradient-to-t from-black/70 to-transparent opacity-0 
                                    group-hover:opacity-100 transition-opacity duration-300
                                    flex items-end justify-center pb-4">
                            <button class="view-image-btn bg-gradient-to-r from-[#00FFFF] to-[#FF00FF] text-white 
                                         px-4 py-2 rounded-lg transform -translate-y-4 opacity-0 
                                         group-hover:translate-y-0 group-hover:opacity-100 transition-all duration-300
                                         hover:from-[#FF00FF] hover:to-[#00FFFF]">
                                View
                            </button>
                        </div>
                    </div>
                    {% endfor %}
                </div>
            </div>
        </section>
    </div>
</div>

<script>
    // Remove handleImageError function as we're using simpler error handling

    // Add debug logging for image loading
    document.querySelectorAll('.gallery-item img').forEach(img => {
        img.addEventListener('load', function() {
            console.log('Successfully loaded:', this.src);
        });
        img.addEventListener('error', function() {
            console.error('Failed to load:', this.src);
        });
    });

    const popup = document.getElementById('imagePopup');
    const popupImage = document.getElementById('popupImage');

    document.querySelectorAll('.gallery-item img').forEach(image => {
        image.addEventListener('click', function() {
            popupImage.src = this.src;
            popupImage.alt = this.alt;
            popup.classList.remove('hidden');
            popup.classList.add('flex');
            document.body.style.overflow = 'hidden';
        });
    });

    function closePopup() {
        popup.classList.add('hidden');
        popup.classList.remove('flex');
        document.body.style.overflow = '';
    }

    popup.addEventListener('click', function(e) {
        if (e.target === popup) {
            closePopup();
        }
    });

    document.addEventListener('keydown', function(e) {
        if (e.key === 'Escape') {
            closePopup();
        }
    });
</script>

<style>
/* Add these responsive styles */
@media (max-width: 640px) {
    .gallery-item {
        height: 150px; /* Adjust height for mobile */
    }
    .gallery-item img {
        height: 150px;
    }
}
</style>
{% endblock %}
